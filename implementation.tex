\chapter{IMPLEMENTATION}
\label{chap:implementation}

The implementation of MediVault was carried out in multiple, well-defined stages to ensure a systematic and robust development process. The initial stage involved configuring the development environment using Node.js for package management, Truffle for the smart contract lifecycle, and Ganache as the local blockchain simulator. The smart contracts, which form the core logic of the application, were written in Solidity and rigorously tested using the Truffle Console to validate their functions and state changes. Once the contracts were deemed stable, they were deployed to the local Ganache blockchain. Their Application Binary Interface (ABI) and deployed addresses were then integrated into the React.js frontend using the Web3.js library, establishing the crucial link between the user interface and the backend logic.

MetaMask served as the primary bridge, handling all authentication and transaction signing processes seamlessly. Upon visiting the application, patients could log in using their MetaMask wallet, and the interface would immediately reflect their account address and balance. Every action, such as uploading medical data or toggling consent for research, was designed to trigger a MetaMask confirmation pop-up. This design choice reinforces the system's commitment to transparency and security, as no transaction can be executed without the user's explicit approval.

Data protection was a central focus of the implementation. Patient data was protected using AES encryption for confidentiality and SHA-256 hashing to ensure data integrity. A second layer of simulated encryption was also added to represent future integration with a decentralized file storage system like IPFS, which would further enhance data resilience and decentralization. The Anonymized Opt-in Module was implemented by introducing new state variables and functions within the smart contracts. This included a \texttt{consentForResearch} boolean to store the patientâ€™s consent state, a \texttt{setResearchConsent()} function to enable or disable participation, and a \texttt{getAnonymizedData()} function designed to return only non-identifiable data attributes like age group, gender, and disease category.

Finally, the entire system was comprehensively tested using different MetaMask accounts to simulate the interactions of multiple patients, doctors, and researchers. The transaction logs in the Ganache GUI were closely monitored to verify that every interaction was recorded correctly and that the system's end-to-end functionality performed as expected.
